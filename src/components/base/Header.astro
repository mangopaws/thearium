---
import ThemeSwitcher from "@components/base/ThemeSwitcher.astro";
import { Image } from "astro:assets";
import logoDark from "@assets/ariumlogo.dark.png";
import logoLight from "@assets/ariumlogo.light.png";

const { pathname } = Astro.url;

const stickyHeader = true;

const menu = [
  {
    name: "Atlas",
    url: "/",
  },
  {
    name: "Teardowns",
    url: "/docs",
  },
  {
    name: "Essays",
    url: "/blog",
  },
  {
    name: "About",
    url: "/about",
  },
];
---

<header
  transition:persist
  class={`container py-5 z-30 mb-4 lg:mt-4 ${stickyHeader && "sticky top-0"}`}
>
  <nav class="flex items-center justify-between">
    <ul class="flex flex-wrap items-center gap-2 text-left">
      {
        menu.map((item, index) => (
          <li class="flex items-center">
            <a
              href={item.url}
              class={`text-[14px] md:text-[16px] font-primary tracking-[0.06em] text-txt-p transition dark:text-darkmode-txt-p ${
                (pathname === `${item.url}/` || pathname === item.url) &&
                "opacity-70"
              }`}
            >
              {item.name}
            </a>
            {index < menu.length - 1 && (
              <span class="px-2 text-[14px] md:text-[16px] text-txt-light dark:text-darkmode-txt-light">
                &middot;
              </span>
            )}
          </li>
        ))
      }
    </ul>
    <div class="ml-4 flex items-center gap-3">
      <ThemeSwitcher />
      <div class="relative w-12 h-12">
        <Image
          src={logoLight}
          alt="Thearium"
          class="absolute inset-0 w-full h-full object-contain opacity-100 dark:opacity-0 transition-opacity duration-500"
          width={48}
          height={48}
          loading="eager"
        />
        <Image
          src={logoDark}
          alt="Thearium"
          class="absolute inset-0 w-full h-full object-contain opacity-0 dark:opacity-100 transition-opacity duration-500"
          width={48}
          height={48}
          loading="eager"
        />
      </div>
    </div>
  </nav>
</header>
